<?xml version="1.0" encoding="UTF-8"?>
<openerp>
    <data>
        <record id="view_production_lot_form_inh_locklot" model="ir.ui.view">
            <field name="name">view.production.lot.form.inh.locklot</field>
            <field name="model">stock.production.lot</field>
            <field name="inherit_id" ref="stock.view_production_lot_form"/>
            <field name="arch" type="xml">
                <field name="ref" position="after">
                    <field name="locked" />
                </field>
            </field>
        </record>
        <record id="view_production_lot_tree_inh_locklot" model="ir.ui.view">
            <field name="name">view.production.lot.tree.inh.locklot</field>
            <field name="model">stock.production.lot</field>
            <field name="inherit_id" ref="stock.view_production_lot_tree"/>
            <field name="arch" type="xml">
                <field name="create_date" position="after">
                    <field name="locked" />
                </field>
            </field>
        </record>
        <record id="search_product_lot_filter_inh_locklot" model="ir.ui.view">
            <field name="name">search.product.lot.filter.inh.locklot</field>
            <field name="model">stock.production.lot</field>
            <field name="inherit_id" ref="stock.search_product_lot_filter"/>
            <field name="arch" type="xml">
                <field name="name" position="before">
                    <field name="locked" />
                </field>
                <filter string="Product" position="before">
                    <filter string="Locked" domain="[]" context="{'group_by':'locked'}"/>
                </filter>
            </field>
        </record>
        <record id="view_stock_move_consume_wizard_inh_locklot" model="ir.ui.view">
            <field name="name">view.stock.move.consume.wizard.inh.locklot</field>
            <field name="model">stock.move.consume</field>
            <field name="inherit_id" ref="mrp.view_stock_move_consume_wizard"/>
            <field name="arch" type="xml">
                <field name="restrict_lot_id" position="attributes">
                    <attribute name="domain">[('product_id','=',product_id),('locked','=',False)]</attribute>
                </field>
            </field>
        </record>
        <record id="view_mrp_product_produce_wizard_inh_locklot" model="ir.ui.view">
            <field name="name">view.mrp.product.produce.wizard.inh.locklot</field>
            <field name="model">mrp.product.produce</field>
            <field name="inherit_id" ref="mrp.view_mrp_product_produce_wizard"/>
            <field name="arch" type="xml">
                <xpath expr="//group[@string='Produce']/field[@name='lot_id']" position="attributes">
                    <attribute name="domain">[('product_id','=',product_id),('locked','=',False)]</attribute>
                </xpath>
                <xpath expr="//tree[@string='Consume Lines']/field[@name='lot_id']" position="attributes">
                    <attribute name="domain">[('product_id','=',product_id),('locked','=',False)]</attribute>
                </xpath>
            </field>
        </record>
    </data>
</openerp>
